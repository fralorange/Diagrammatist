<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:simulatorSelector="clr-namespace:Diagrammatist.Presentation.WPF.Simulator.Selectors;assembly=Diagrammatist.Presentation.WPF.Simulator">
    <!--#region Simulation-->
    <Style x:Key="SimulationFigureBaseStyle" TargetType="ListBoxItem" BasedOn="{StaticResource CustomSelectionBox}">
        <Setter Property="Tag" >
            <Setter.Value>
                <MultiBinding Converter="{StaticResource FigureModelExtractorMultiConverter}">
                    <Binding Path="Figure"/>
                    <Binding Path="Line"/>
                </MultiBinding>
            </Setter.Value>
        </Setter>

        <Setter Property="Canvas.Left" Value="{Binding RelativeSource={RelativeSource Self}, Path=Tag.PosX}" />
        <Setter Property="Canvas.Top" Value="{Binding RelativeSource={RelativeSource Self}, Path=Tag.PosY}" />
        <Setter Property="Canvas.ZIndex" Value="{Binding RelativeSource={RelativeSource Self}, Path=Tag.ZIndex}" />
        <Setter Property="RenderTransformOrigin" Value="0.5, 0.5" />
        <Setter Property="RenderTransform">
            <Setter.Value>
                <RotateTransform Angle="{Binding RelativeSource={RelativeSource Self}, Path=Tag.Rotation}" />
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="SimulationNodeStyle" TargetType="ListBoxItem" BasedOn="{StaticResource SimulationFigureBaseStyle}"/>
    <Style x:Key="SimulationConnectionStyle" TargetType="ListBoxItem" BasedOn="{StaticResource SimulationFigureBaseStyle}">
        <Setter Property="IsHitTestVisible" Value="False" />
    </Style>

    <simulatorSelector:SimulationItemStyleSelector x:Key="SimulationItemStyleSelector"
                                                   SimulationNodeStyle="{StaticResource SimulationNodeStyle}"
                                                   SimulationConnectionStyle="{StaticResource SimulationConnectionStyle}"/>
    <!--#endregion-->
</ResourceDictionary>